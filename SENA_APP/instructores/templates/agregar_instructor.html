{% extends "master.html" %}

{% block title %}Agregar Instructor{% endblock %}

{% block page_content %}
<div style="padding: 2rem; max-width: 800px; margin: 0 auto;">
    <!-- Header -->
    <div style="background: linear-gradient(135deg, #185e22ff 0%, #068517ff 100%); padding: 2rem; border-radius: 12px; margin-bottom: 2rem; box-shadow: 0 10px 30px rgba(0,0,0,0.2); text-align: center;">
        <h1 style="color: white; margin: 0; font-size: 2.5rem; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">
            ➕ Agregar Instructor
        </h1>
        <p style="color: rgba(255,255,255,0.9); margin-top: 10px; font-size: 1rem;">Registra un nuevo instructor en el sistema</p>
    </div>

    <!-- Form Container -->
    <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.1); padding: 2rem;">
        <form method="post" novalidate>
            {% csrf_token %}
            
            <!-- Form Fields -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                {% for field in form %}
                    {% if field.name not in "photo" %}
                    <div style="grid-column: {% if field.name in 'specialization,birthdate' %}1 / -1{% else %}auto{% endif %};">
                        <label for="{{ field.id_for_label }}" style="display: block; color: #2d3748; font-weight: 600; margin-bottom: 8px; font-size: 0.95rem; letter-spacing: 0.5px;">
                            {{ field.label }}
                        </label>
                        
                        {% if field.field.widget.input_type == "checkbox" %}
                            <input type="checkbox" id="{{ field.id_for_label }}" name="{{ field.name }}" 
                                   style="width: 18px; height: 18px; cursor: pointer; accent-color: #39b54a;">
                        {% else %}
                            {{ field }}
                        {% endif %}
                        
                        <style>
                            #{{ field.id_for_label }} {
                                width: 100%;
                                padding: 12px 15px;
                                border: 2px solid #e2e8f0;
                                border-radius: 8px;
                                font-size: 1rem;
                                transition: all 0.3s ease;
                                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                            }
                            #{{ field.id_for_label }}:focus {
                                outline: none;
                                border-color: #39b54a;
                                box-shadow: 0 0 0 3px rgba(57, 181, 74, 0.1);
                            }
                            #{{ field.id_for_label }}::placeholder {
                                color: #cbd5e0;
                            }
                        </style>
                        
                        {% if field.errors %}
                            <div style="color: #e53e3e; font-size: 0.85rem; margin-top: 5px;">
                                {% for error in field.errors %}
                                    <p>❌ {{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    {% endif %}
                {% endfor %}
            </div>

            <!-- Non-field errors -->
            {% if form.non_field_errors %}
                <div style="background: #fed7d7; border-left: 4px solid #e53e3e; padding: 12px 15px; border-radius: 6px; margin-bottom: 20px; color: #e53e3e;">
                    {% for error in form.non_field_errors %}
                        <p style="margin: 5px 0;">❌ {{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}

            <!-- Buttons -->
            <div style="display: flex; gap: 15px; margin-top: 30px; justify-content: center;">
                <button type="submit" style="padding: 12px 40px; background: linear-gradient(135deg, #39b54a 0%, #2d8659 100%); color: white; border: none; border-radius: 25px; font-weight: 600; font-size: 1rem; cursor: pointer; transition: all 0.3s ease; text-transform: uppercase; letter-spacing: 1px;" 
                        onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 10px 25px rgba(57, 181, 74, 0.3)'" 
                        onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='none'">
                    ✓ Guardar Instructor
                </button>
                <a href="/instructores/" style="padding: 12px 40px; background: linear-gradient(135deg, #6c757d 0%, #545b62 100%); color: white; text-decoration: none; border-radius: 25px; font-weight: 600; font-size: 1rem; transition: all 0.3s ease; text-transform: uppercase; letter-spacing: 1px; display: inline-block;" 
                   onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 10px 25px rgba(108, 117, 125, 0.3)'" 
                   onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='none'">
                    ← Cancelar
                </a>
            </div>
        </form>
    </div>

    <!-- Help Text -->
    <div style="margin-top: 2rem; padding: 1.5rem; background: #f0fdf4; border-left: 4px solid #39b54a; border-radius: 8px;">
        <p style="color: #185e22; margin: 0; font-size: 0.9rem;">
            <strong>ℹ️ Nota:</strong> Todos los campos son obligatorios para registrar un nuevo instructor. 
            Asegúrate de completar toda la información correctamente.
        </p>
    </div>
</div>

<style>
    /* General form styling */
    input[type="text"],
    input[type="email"],
    input[type="date"],
    input[type="tel"],
    textarea,
    select {
        width: 100%;
        padding: 12px 15px;
        border: 2px solid #e2e8f0;
        border-radius: 8px;
        font-size: 1rem;
        transition: all 0.3s ease;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        box-sizing: border-box;
    }

    input[type="text"]:focus,
    input[type="email"]:focus,
    input[type="date"]:focus,
    input[type="tel"]:focus,
    textarea:focus,
    select:focus {
        outline: none;
        border-color: #39b54a;
        box-shadow: 0 0 0 3px rgba(57, 181, 74, 0.1);
    }

    textarea {
        resize: vertical;
        min-height: 120px;
    }

    /* Error messages */
    .errorlist {
        list-style: none;
        padding: 0;
        color: #e53e3e;
        font-size: 0.85rem;
        margin-top: 5px;
    }

    .errorlist li {
        margin: 3px 0;
    }

    /* Required field indicator */
    .field-required {
        color: #e53e3e;
    }

    @media (max-width: 768px) {
        div[style*="grid-template-columns"] {
            grid-template-columns: 1fr !important;
        }
    }
</style>
{% endblock %}
